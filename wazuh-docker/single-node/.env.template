# ===================================
# Wazuh GraphRAG 整合監控系統環境變數配置
# ===================================
# 
# 使用說明：
# 1. 複製此文件為 .env
# 2. 根據您的環境修改相應的值
# 3. 確保敏感信息不被提交到版本控制

# ===================================
# 基礎配置
# ===================================

# 項目名稱（用於 Docker Compose）
COMPOSE_PROJECT_NAME=wazuh-graphrag

# 部署環境：development, staging, production
ENVIRONMENT=development

# ===================================
# Wazuh 配置
# ===================================

# Wazuh API 配置
WAZUH_API_URL=https://wazuh.manager:55000
WAZUH_API_USER=wazuh-wui
WAZUH_API_PASSWORD=MyS3cr3tP4ssw0rd!

# Wazuh Indexer (OpenSearch) 配置
OPENSEARCH_URL=https://wazuh.indexer:9200
OPENSEARCH_USER=admin
OPENSEARCH_PASSWORD=SecretPassword
OPENSEARCH_MAX_CONNECTIONS=20
OPENSEARCH_TIMEOUT=30

# ===================================
# AI Agent 配置
# ===================================

# LLM 提供商配置
LLM_PROVIDER=anthropic  # 選項: anthropic, gemini
ANTHROPIC_API_KEY=your-anthropic-api-key
GEMINI_API_KEY=your-gemini-api-key

# 嵌入服務配置
EMBEDDING_MODEL=models/embedding-001
EMBEDDING_BATCH_SIZE=100
EMBEDDING_RETRY_MAX_ATTEMPTS=3

# AI Agent 服務配置
AI_AGENT_PORT=8002
AI_AGENT_HOST=0.0.0.0
AI_AGENT_WORKERS=4

# ===================================
# Neo4j 圖形資料庫配置
# ===================================

NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=wazuh-graph-2024
NEO4J_DATABASE=neo4j
NEO4J_MAX_CONNECTION_LIFETIME=3600
NEO4J_MAX_CONNECTION_POOL_SIZE=50

# Neo4j 瀏覽器配置
NEO4J_BROWSER_PORT=7474

# ===================================
# 監控系統配置
# ===================================

# Prometheus 配置
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=15d

# Grafana 配置
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=grafana-admin-2024

# Node Exporter 配置
NODE_EXPORTER_PORT=9100

# ===================================
# 效能優化配置
# ===================================

# 批次處理配置
BATCH_SIZE=50
PROCESSING_INTERVAL=60  # 秒

# 緩存配置
CACHE_ENABLED=true
CACHE_TTL=3600  # 秒

# 並發處理配置
MAX_CONCURRENT_ALERTS=10
WORKER_POOL_SIZE=4

# ===================================
# 日誌配置
# ===================================

LOG_LEVEL=INFO  # 選項: DEBUG, INFO, WARNING, ERROR
LOG_FORMAT=json  # 選項: json, plain
LOG_TO_FILE=false
LOG_FILE_PATH=/var/log/wazuh-graphrag/app.log

# ===================================
# 資料持久化配置
# ===================================

# 資料卷路徑
DATA_VOLUME_PATH=./data
LOGS_VOLUME_PATH=./logs
CERTS_VOLUME_PATH=./certs

# ===================================
# 網路配置
# ===================================

# Docker 網路配置
NETWORK_NAME=wazuh-net
NETWORK_SUBNET=172.28.0.0/16

# ===================================
# 安全配置
# ===================================

# SSL/TLS 配置
SSL_ENABLED=true
SSL_VERIFY=false  # 開發環境設為 false

# API 金鑰（用於服務間通信）
INTERNAL_API_KEY=your-internal-api-key

# ===================================
# 備份配置
# ===================================

# 自動備份配置
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"  # 每天凌晨 2 點
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=./backups

# ===================================
# 開發環境特定配置
# ===================================

# 熱重載
DEV_HOT_RELOAD=true

# 調試模式
DEBUG_MODE=false

# ===================================
# 資源限制配置
# ===================================

# CPU 限制（Docker Compose 格式）
CPU_LIMIT_WAZUH_MANAGER=2
CPU_LIMIT_WAZUH_INDEXER=2
CPU_LIMIT_AI_AGENT=1
CPU_LIMIT_NEO4J=2

# 記憶體限制
MEMORY_LIMIT_WAZUH_MANAGER=2G
MEMORY_LIMIT_WAZUH_INDEXER=2G
MEMORY_LIMIT_AI_AGENT=1G
MEMORY_LIMIT_NEO4J=2G