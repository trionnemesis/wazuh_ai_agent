# === Wazuh GraphRAG 效能優化配置 ===
# 此文件包含所有效能相關的環境變數設定

# === 資料庫連接池配置 ===
# OpenSearch 連接配置
OPENSEARCH_MAX_CONNECTIONS=20
OPENSEARCH_MAX_KEEPALIVE_CONNECTIONS=10
OPENSEARCH_KEEPALIVE_TIMEOUT=300
OPENSEARCH_CONNECTION_TIMEOUT=30
OPENSEARCH_READ_TIMEOUT=60

# Neo4j 連接池配置
NEO4J_MAX_CONNECTION_POOL_SIZE=50
NEO4J_CONNECTION_TIMEOUT=30
NEO4J_MAX_TRANSACTION_RETRY_TIME=30

# === 向量化服務優化 ===
# 批次處理配置
EMBEDDING_BATCH_SIZE=20
EMBEDDING_MAX_CONCURRENT=3
EMBEDDING_CACHE_SIZE=1000
EMBEDDING_CACHE_TTL=3600

# === LLM API 優化 ===
# Claude/Gemini API 配置
LLM_MAX_RETRIES=3
LLM_TIMEOUT=120
LLM_MAX_TOKENS=4096
LLM_TEMPERATURE=0.3

# === 並發處理配置 ===
# 警報處理並發數
ALERT_PROCESSING_CONCURRENCY=5
ALERT_BATCH_SIZE=10
ALERT_PROCESSING_INTERVAL=60

# === 快取配置 ===
# Redis 快取（如果使用）
REDIS_URL=redis://localhost:6379
REDIS_CACHE_TTL=1800
REDIS_MAX_CONNECTIONS=10

# === 監控配置 ===
# Prometheus 指標收集
METRICS_COLLECTION_INTERVAL=15
METRICS_RETENTION_DAYS=30

# === 記憶體和資源限制 ===
# Python 進程配置
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
OMP_NUM_THREADS=4